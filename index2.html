<!doctype html>
<html lang="th">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Prompt', 'Kanit', sans-serif;
    }
    
    * {
      box-sizing: border-box;
    }

    @import url('https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;700&family=Kanit:wght@300;400;600;700&display=swap');

    .tabak-pattern {
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%230066cc' fill-opacity='0.05'%3E%3Cpath d='M30 30c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10-10-4.477-10-10zm10-8c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }



    .mobile-menu {
      display: none;
    }

    .mobile-menu.active {
      display: block;
    }

    .hamburger {
      display: none;
      flex-direction: column;
      cursor: pointer;
      padding: 10px;
    }

    .hamburger span {
      width: 25px;
      height: 3px;
      background-color: #0066cc;
      margin: 3px 0;
      transition: 0.3s;
    }

    @media (max-width: 768px) {
      .desktop-menu {
        display: none !important;
      }
      
      .hamburger {
        display: flex;
      }

      .mobile-menu {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background-color: white;
        border-top: 1px solid #e5e7eb;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        z-index: 50;
      }
    }

    .nav-link.active {
      color: #0066cc;
      font-weight: 600;
      border-bottom: 3px solid #0066cc;
    }

    .loading-spinner {
      border: 3px solid #f3f3f3;
      border-top: 3px solid #0066cc;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #333;
      color: white;
      padding: 16px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      z-index: 10000;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      overflow-y: auto;
    }

    .modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      background-color: white;
      padding: 30px;
      border-radius: 12px;
      max-width: 600px;
      width: 90%;
      max-height: 90%;
      overflow-y: auto;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="bg-white"><!-- Navigation -->
  <nav id="navbar" class="bg-white shadow-md sticky top-0 z-50">
   <div class="max-w-7xl mx-auto px-6">
    <div class="flex justify-between items-center py-4">
     <div class="flex items-center space-x-3"><img src="https://img5.pic.in.th/file/secure-sv1/IMG_0310f4b22b3a3a8d0946.jpeg" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á" class="w-12 h-12 rounded-full object-cover shadow-lg border-4 border-white" onerror="this.src=''; this.style.display='none'; this.nextElementSibling.style.display='flex';">
      <div class="w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full items-center justify-center text-white font-bold text-xl shadow-lg border-4 border-white" style="display: none;">
       ‡∏™
      </div><span class="text-xl font-bold text-blue-800">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</span>
     </div><!-- Desktop Menu -->
     <div class="desktop-menu flex items-center space-x-6"><a href="#" class="nav-link text-gray-700 hover:text-blue-600 transition py-2" data-page="home">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a> <a href="#" class="nav-link text-gray-700 hover:text-blue-600 transition py-2" data-page="about">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a> <a href="#" class="nav-link text-gray-700 hover:text-blue-600 transition py-2" data-page="departments">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô</a> <a href="#" class="nav-link text-gray-700 hover:text-blue-600 transition py-2" data-page="subjects">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</a> <a href="#" class="nav-link text-gray-700 hover:text-blue-600 transition py-2" data-page="documents">‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</a> <a href="#" class="nav-link text-gray-700 hover:text-blue-600 transition py-2" data-page="admission">‡∏á‡∏≤‡∏ô‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a> <a href="#" class="nav-link text-gray-700 hover:text-blue-600 transition py-2" data-page="contact">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</a> <a href="#" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition" data-page="login">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
     </div><!-- Mobile Hamburger -->
     <div class="hamburger" id="hamburger"><span></span> <span></span> <span></span>
     </div>
    </div><!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu"><a href="#" class="block py-3 px-4 text-gray-700 hover:bg-blue-50 nav-link" data-page="home">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a> <a href="#" class="block py-3 px-4 text-gray-700 hover:bg-blue-50 nav-link" data-page="about">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a> <a href="#" class="block py-3 px-4 text-gray-700 hover:bg-blue-50 nav-link" data-page="departments">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô</a> <a href="#" class="block py-3 px-4 text-gray-700 hover:bg-blue-50 nav-link" data-page="subjects">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</a> <a href="#" class="block py-3 px-4 text-gray-700 hover:bg-blue-50 nav-link" data-page="documents">‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</a> <a href="#" class="block py-3 px-4 text-gray-700 hover:bg-blue-50 nav-link" data-page="admission">‡∏á‡∏≤‡∏ô‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a> <a href="#" class="block py-3 px-4 text-gray-700 hover:bg-blue-50 nav-link" data-page="contact">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</a> <a href="#" class="block py-3 px-4 bg-blue-600 text-white hover:bg-blue-700 m-4 rounded-lg text-center" data-page="login">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
    </div>
   </div>
  </nav><!-- Main Content -->
  <main id="mainContent" class="min-h-screen"><!-- Content will be loaded here -->
  </main><!-- Footer -->
  <footer class="bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 text-white py-16 mt-20">
   <div class="max-w-7xl mx-auto px-4"><!-- Main Footer Content -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12"><!-- School Info -->
     <div class="lg:col-span-1">
      <div class="flex items-center space-x-3 mb-6"><img src="https://img5.pic.in.th/file/secure-sv1/IMG_0310f4b22b3a3a8d0946.jpeg" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á" class="w-16 h-16 rounded-full object-cover shadow-lg border-6 border-white" onerror="this.src=''; this.style.display='none'; this.nextElementSibling.style.display='flex';">
       <div class="w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full items-center justify-center text-white font-bold text-2xl shadow-lg border-6 border-white" style="display: none;">
        ‡∏™
       </div>
       <div>
        <h3 class="text-xl font-bold">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</h3>
        <p class="text-blue-200 text-sm">Satri Phatthalung School</p>
       </div>
      </div>
      <div class="space-y-2 text-blue-100">
       <div class="flex items-start space-x-2"><span class="text-blue-300 mt-1">üìû</span>
        <div>
         <p class="text-sm">‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå: 074-613-023</p>
        </div>
       </div>
       <div class="flex items-start space-x-2"><span class="text-blue-300 mt-1">üìß</span>
        <div>
         <p class="text-sm">Email: satriphatthalung@spt.ac.th</p>
        </div>
       </div>
       <div class="flex items-start space-x-2"><span class="text-blue-300 mt-1">üìç</span>
        <div>
         <p class="text-sm leading-relaxed">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 250 ‡∏ñ‡∏ô‡∏ô‡∏£‡∏≤‡πÄ‡∏°‡∏®‡∏ß‡∏£‡πå<br>
          ‡∏ï.‡∏Ñ‡∏π‡∏´‡∏≤‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á<br>
          ‡∏à.‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á 93000</p>
        </div>
       </div>
      </div>
     </div><!-- Quick Links -->
     <div>
      <h3 class="text-lg font-bold mb-4 text-blue-200">‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</h3>
      <ul class="space-y-3">
       <li><a href="#" class="nav-link text-blue-100 hover:text-white hover:pl-2 transition-all duration-300" data-page="home">üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a></li>
       <li><a href="#" class="nav-link text-blue-100 hover:text-white hover:pl-2 transition-all duration-300" data-page="about">‚ÑπÔ∏è ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a></li>
       <li><a href="#" class="nav-link text-blue-100 hover:text-white hover:pl-2 transition-all duration-300" data-page="departments">üë• ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô</a></li>
       <li><a href="#" class="nav-link text-blue-100 hover:text-white hover:pl-2 transition-all duration-300" data-page="subjects">üìö ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</a></li>
       <li><a href="#" class="nav-link text-blue-100 hover:text-white hover:pl-2 transition-all duration-300" data-page="admission">üéì ‡∏á‡∏≤‡∏ô‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a></li>
      </ul>
     </div><!-- Government Links -->
     <div>
      <h3 class="text-lg font-bold mb-4 text-blue-200">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á</h3>
      <ul class="space-y-3">
       <li><a href="https://www.moe.go.th" target="_blank" rel="noopener noreferrer" class="text-blue-100 hover:text-white hover:pl-2 transition-all duration-300 flex items-center space-x-2"><span>üèõÔ∏è</span><span>‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£</span></a></li>
       <li><a href="https://www.obec.go.th" target="_blank" rel="noopener noreferrer" class="text-blue-100 hover:text-white hover:pl-2 transition-all duration-300 flex items-center space-x-2"><span>üè¢</span><span>‡∏™‡∏û‡∏ê.</span></a></li>
       <li><a href="https://www.sesao12.go.th" target="_blank" rel="noopener noreferrer" class="text-blue-100 hover:text-white hover:pl-2 transition-all duration-300 flex items-center space-x-2"><span>üè´</span><span>‡∏™‡∏û‡∏°.‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</span></a></li>
       <li><a href="https://www.phatthalung.go.th" target="_blank" rel="noopener noreferrer" class="text-blue-100 hover:text-white hover:pl-2 transition-all duration-300 flex items-center space-x-2"><span>üèõÔ∏è</span><span>‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</span></a></li>
      </ul>
     </div><!-- Systems & Social -->
     <div>
      <h3 class="text-lg font-bold mb-4 text-blue-200">‡∏£‡∏∞‡∏ö‡∏ö‡∏á‡∏≤‡∏ô &amp; ‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•</h3>
      <div class="space-y-3 mb-6"><a href="https://2b.spt.ac.th" target="_blank" rel="noopener noreferrer" class="text-blue-100 hover:text-white hover:pl-2 transition-all duration-300 flex items-center space-x-2 text-sm"><span>üíª</span><span>‡∏£‡∏∞‡∏ö‡∏ö 2b</span></a> <a href="https://sgs.bopp-obec.info" target="_blank" rel="noopener noreferrer" class="text-blue-100 hover:text-white hover:pl-2 transition-all duration-300 flex items-center space-x-2 text-sm"><span>üìä</span><span>‡∏£‡∏∞‡∏ö‡∏ö SGS</span></a> <a href="https://apps.myschool.in.th/login" target="_blank" rel="noopener noreferrer" class="text-blue-100 hover:text-white hover:pl-2 transition-all duration-300 flex items-center space-x-2 text-sm"><span>üéí</span><span>MySchool</span></a>
      </div>
      <h4 class="text-sm font-semibold mb-3 text-blue-200">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏£‡∏≤</h4>
      <div class="flex space-x-3"><a href="https://www.facebook.com/spt.ac.th" target="_blank" rel="noopener noreferrer" class="bg-blue-600 hover:bg-blue-500 p-3 rounded-full transition-all duration-300 transform hover:scale-110"> <span class="text-xl">üìò</span> </a> <a href="https://www.instagram.com/sptschool_official?igsh=MWM0NWl2MmF1cXhvdw==" target="_blank" rel="noopener noreferrer" class="bg-pink-600 hover:bg-pink-500 p-3 rounded-full transition-all duration-300 transform hover:scale-110"> <span class="text-xl">üì∏</span> </a> <a href="https://www.tiktok.com/@spt_school?_t=ZS-90tOrK4pFtH&amp;_r=1" target="_blank" rel="noopener noreferrer" class="bg-gray-800 hover:bg-gray-700 p-3 rounded-full transition-all duration-300 transform hover:scale-110"> <span class="text-xl">üéµ</span> </a>
      </div>
     </div>
    </div><!-- Bottom Footer -->
    <div class="border-t border-blue-700 pt-8">
     <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
      <div class="text-center md:text-left">
       <p class="text-blue-100">¬© 2024 ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á | Satri Phatthalung School</p>
      </div>
      <div class="flex items-center space-x-4 text-blue-200"><span class="text-2xl">üíô</span> <span class="text-sm">‡∏£‡∏±‡∏Å‡∏Å‡∏±‡∏ô‡∏ô‡πâ‡∏≠‡∏á‡∏û‡∏µ‡πà‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</span>
      </div>
     </div>
    </div>
   </div>
  </footer><!-- Admin Modal -->
  <div id="adminModal" class="modal">
   <div class="modal-content">
    <div class="flex justify-between items-center mb-6">
     <h2 class="text-2xl font-bold text-blue-800">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h2><button id="closeModal" class="text-gray-500 hover:text-gray-700 text-3xl">√ó</button>
    </div>
    <form id="adminForm"><input type="hidden" id="editId">
     <div class="mb-4"><label class="block text-gray-700 font-semibold mb-2">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</label> <input type="text" id="itemTitle" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500" required>
     </div>
     <div class="mb-4"><label class="block text-gray-700 font-semibold mb-2">‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</label> <textarea id="itemContent" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"></textarea>
     </div>
     <div class="mb-4"><label class="block text-gray-700 font-semibold mb-2">URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label> <input type="url" id="itemImage" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500" placeholder="https://example.com/image.jpg">
     </div>
     <div class="flex space-x-4"><button type="submit" class="flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold"> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å </button> <button type="button" id="cancelBtn" class="flex-1 bg-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-400 transition font-semibold"> ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å </button>
     </div>
    </form>
   </div>
  </div>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBeh27zK1qUYP7tOU3MYNn_RobC8RaPZSM",
      authDomain: "website-moral.firebaseapp.com",
      projectId: "website-moral",
      storageBucket: "website-moral.firebasestorage.app",
      messagingSenderId: "450436753681",
      appId: "1:450436753681:web:13eb5458b57950099984b0",
      measurementId: "G-1GR9NTF8JB"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    const defaultConfig = {
      school_name: "‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á",
      school_address: "‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 250 ‡∏ñ‡∏ô‡∏ô‡∏£‡∏≤‡πÄ‡∏°‡∏®‡∏ß‡∏£‡πå ‡∏ï.‡∏Ñ‡∏π‡∏´‡∏≤‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á ‡∏à.‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á 93000"
    };

    let currentPage = 'home';
    let isAdmin = false;
    let allData = [];
    let currentEditType = '';
    let currentEditCategory = '';

    const dataHandler = {
      onDataChanged(data) {
        allData = data;
        if (currentPage && typeof window[`render${capitalize(currentPage)}Page`] === 'function') {
          window[`render${capitalize(currentPage)}Page`]();
        }
      }
    };

    async function initApp() {
      const initResult = await window.dataSdk.init(dataHandler);
      if (!initResult.isOk) {
        showToast('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö');
        return;
      }

      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange: async (config) => {
            document.title = config.school_name || defaultConfig.school_name;
          },
          mapToCapabilities: (config) => ({
            recolorables: [],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined
          }),
          mapToEditPanelValues: (config) => new Map([
            ["school_name", config.school_name || defaultConfig.school_name],
            ["school_address", config.school_address || defaultConfig.school_address]
          ])
        });
      }

      auth.onAuthStateChanged((user) => {
        isAdmin = !!user;
        if (currentPage && typeof window[`render${capitalize(currentPage)}Page`] === 'function') {
          window[`render${capitalize(currentPage)}Page`]();
        }
      });

      const savedPage = sessionStorage.getItem('currentPage') || 'home';
      navigateToPage(savedPage);
    }

    function capitalize(str) {
      return str.charAt(0).toUpperCase() + str.slice(1).replace(/-([a-z])/g, (g) => g[1].toUpperCase());
    }

    function showToast(message) {
      const toast = document.createElement('div');
      toast.className = 'toast';
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 3000);
    }

    function showLoading() {
      return '<div class="loading-spinner"></div>';
    }

    document.getElementById('hamburger').addEventListener('click', () => {
      document.getElementById('mobileMenu').classList.toggle('active');
    });

    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const page = e.target.getAttribute('data-page');
        if (page) {
          navigateToPage(page);
        }
      });
    });

    function navigateToPage(page) {
      currentPage = page;
      sessionStorage.setItem('currentPage', page);
      
      // ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏™‡∏∏‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
      window.scrollTo({ top: 0, behavior: 'smooth' });
      
      // ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠
      document.getElementById('mobileMenu').classList.remove('active');
      
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
        const linkPage = link.getAttribute('data-page');
        if (linkPage === page || (page.startsWith('dept-') && linkPage === 'departments') || 
            (page.startsWith('subject-') && linkPage === 'subjects') ||
            (page.startsWith('doc-') && linkPage === 'documents')) {
          link.classList.add('active');
        }
      });

      const renderFunction = `render${capitalize(page)}Page`;
      if (typeof window[renderFunction] === 'function') {
        window[renderFunction]();
      }
    }

    function renderHomePage() {
      const config = window.elementSdk?.config || defaultConfig;
      document.getElementById('mainContent').innerHTML = `
        <div class="tabak-pattern">
          <div class="max-w-7xl mx-auto px-4 py-16">
            <div class="text-center mb-16">
              <div class="inline-block p-8 mb-6">
                <img src="https://img5.pic.in.th/file/secure-sv1/IMG_0310f4b22b3a3a8d0946.jpeg" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á" class="w-32 h-32 rounded-full object-cover shadow-2xl border-8 border-white" onerror="this.src=''; this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="w-32 h-32 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full items-center justify-center text-white font-bold text-4xl shadow-2xl border-8 border-white" style="display: none;">
                  ‡∏™
                </div>
              </div>
              <h1 class="text-5xl font-bold text-blue-800 mb-4">${config.school_name || defaultConfig.school_name}</h1>
              <p class="text-xl text-gray-600">Satri Phatthalung School</p>
            </div>

            <div class="bg-white rounded-2xl shadow-xl p-8 mb-12">
              <h2 class="text-3xl font-bold text-blue-800 mb-6 text-center">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®/‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</h2>
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                ${allData.filter(d => d.type === 'poster').map(item => `
                  <div class="bg-gradient-to-br from-blue-50 to-white rounded-xl p-6 shadow-md hover:shadow-xl transition">
                    ${item.imageUrl ? `<img src="${item.imageUrl}" alt="${item.title}" class="w-full h-48 object-cover rounded-lg mb-4" onerror="this.src=''; this.alt='‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ'; this.style.display='none';">` : ''}
                    <h3 class="text-xl font-bold text-blue-800 mb-2">${item.title}</h3>
                    <p class="text-gray-600">${item.content || ''}</p>
                  </div>
                `).join('') || '<p class="text-center text-gray-500 col-span-full">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</p>'}
              </div>
              ${isAdmin ? `
                <div class="text-center mt-6">
                  <button onclick="openAdminModal('poster', 'home')" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold">
                    + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®
                  </button>
                </div>
              ` : ''}
            </div>


          </div>
        </div>
      `;
    }

    function renderAboutPage() {
      document.getElementById('mainContent').innerHTML = `
        <div class="max-w-6xl mx-auto px-4 py-16">
          <div class="bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-12">
              <div class="text-6xl mb-6">üè´</div>
              <h1 class="text-4xl font-bold text-blue-800 mb-6">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h1>
            </div>

            <div class="bg-gradient-to-r from-blue-50 to-white rounded-xl p-8 mb-8">
              <h2 class="text-3xl font-bold text-blue-800 mb-6">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
              
              <div class="space-y-6 text-gray-700 leading-relaxed">
                <div>
                  <h3 class="text-xl font-bold text-blue-700 mb-3">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h3>
                  <p class="mb-4">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á ‡∏°‡∏µ‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ö‡∏≤‡∏• ‡∏Ñ‡∏∑‡∏≠ ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÇ‡∏™‡∏†‡∏ì‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á‡∏Å‡∏∏‡∏•‡∏à‡∏±‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏±‡πâ‡∏ô‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏õ‡∏µ‡∏•‡∏∞‡∏ä‡∏±‡πâ‡∏ô ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏ä‡∏±‡πâ‡∏ô‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 4 ‡πÇ‡∏î‡∏¢‡∏°‡∏µ ‡∏ô‡∏≤‡∏¢‡∏à‡∏£‡∏±‡∏• ‡∏î‡∏¥‡∏™‡∏£‡∏≤ ‡∏Ñ‡∏£‡∏π‡πÉ‡∏´‡∏ç‡πà‡∏ù‡πà‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ö‡∏≤‡∏•‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• ‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏à‡∏ô‡∏Å‡∏£‡∏∞‡∏ó‡∏±‡πà‡∏á‡∏õ‡∏µ ‡∏û.‡∏®. 2471 ‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏õ‡∏£‡∏¥‡∏Å ‡πÄ‡∏î‡πà‡∏ô‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏∑‡∏≠ ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ñ‡∏£‡∏π‡πÉ‡∏´‡∏ç‡πà‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å</p>
                </div>

                <div>
                  <h3 class="text-xl font-bold text-blue-700 mb-3">‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á</h3>
                  <p class="mb-4">‡πÄ‡∏°‡∏∑‡πà‡∏≠ ‡∏û.‡∏®. 2482 ‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÉ‡∏´‡πâ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏£‡∏Å ‡∏™‡∏°‡∏±‡∏¢‡∏Ç‡∏∏‡∏ô‡∏ß‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏£‡∏£‡∏¢‡∏≤ ‡πÄ‡∏õ‡πá‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á 6,000 ‡∏ö‡∏≤‡∏ó ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÑ‡∏°‡πâ‡∏™‡∏≠‡∏á‡∏ä‡∏±‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏≤‡∏™‡∏µ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 12 ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                  
                  <p class="mb-4">‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏à‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏¢‡πâ‡∏≤‡∏¢‡∏°‡∏≤‡∏≠‡∏¢‡∏π‡πà ‡∏ì ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏´‡πà‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏Ñ‡∏∑‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 17 ‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏° 2482 ‡∏°‡∏µ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ç‡∏¥‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 70 ‡∏Ñ‡∏ô ‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏≠‡∏ô‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ä‡∏±‡πâ‡∏ô‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1 ‡∏ñ‡∏∂‡∏á‡∏ä‡∏±‡πâ‡∏ô‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 6 ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 6 ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡πÉ‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 1 ‡∏´‡∏°‡∏î‡∏™‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏∑‡πâ‡∏≠‡∏ñ‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° ‡∏û.‡∏®. 2529)</p>
                </div>

                <div>
                  <h3 class="text-xl font-bold text-blue-700 mb-3">‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï</h3>
                  <p class="mb-4">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏à‡∏ô‡∏ñ‡∏∂‡∏á ‡∏û.‡∏®. 2502 ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 120,000 ‡∏ö‡∏≤‡∏ó ‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà 2 ‡πÅ‡∏•‡∏∞‡∏ï‡πà‡∏≠‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏µ‡∏Å 4 ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏ó‡∏≤‡∏™‡∏µ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠ ‡∏û.‡∏®. 2506 ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 1 ‡∏´‡∏•‡∏±‡∏á</p>
                  
                  <p class="mb-4">‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏£‡∏π‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏ô‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á‡πÑ‡∏î‡πâ‡∏Å‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ ‡∏û.‡∏®. 2477 ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡∏°‡∏≤ ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏≥‡∏î‡∏±‡∏ö</p>
                </div>

                <div>
                  <h3 class="text-xl font-bold text-blue-700 mb-3">‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3>
                  <p class="mb-4">‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡πÅ‡∏£‡∏Å‡∏ó‡∏≤‡∏á‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ç‡∏¥‡∏á ‡∏ï‡πà‡∏≠‡∏°‡∏≤‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏õ‡∏•‡∏≤‡∏¢ ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ 2505 ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1 ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ 2528 ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</p>
                </div>
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div class="bg-blue-50 rounded-xl p-6 text-center">
                <div class="text-4xl mb-3">üìÖ</div>
                <h3 class="font-bold text-blue-800 mb-2">‡∏Å‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á</h3>
                <p class="text-gray-700">‡∏û.‡∏®. 2477</p>
              </div>
              <div class="bg-green-50 rounded-xl p-6 text-center">
                <div class="text-4xl mb-3">üèóÔ∏è</div>
                <h3 class="font-bold text-green-800 mb-2">‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÅ‡∏£‡∏Å</h3>
                <p class="text-gray-700">‡∏û.‡∏®. 2482</p>
              </div>
              <div class="bg-purple-50 rounded-xl p-6 text-center">
                <div class="text-4xl mb-3">üë•</div>
                <h3 class="font-bold text-purple-800 mb-2">‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡∏≤‡∏¢</h3>
                <p class="text-gray-700">‡∏û.‡∏®. 2528</p>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderDepartmentsPage() {
      document.getElementById('mainContent').innerHTML = `
        <div class="max-w-7xl mx-auto px-4 py-16">
          <h1 class="text-4xl font-bold text-blue-800 mb-12 text-center">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô</h1>
          
          <!-- ‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£ -->
          <div class="bg-white rounded-2xl shadow-xl p-8 mb-12">
            <h2 class="text-3xl font-bold text-blue-800 mb-8 text-center">‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
              <div class="text-center">
                <div class="w-32 h-32 mx-auto mb-4 rounded-full bg-gray-100 border-4 border-blue-200 flex items-center justify-center text-6xl">
                  üë§
                </div>
                <h3 class="font-bold text-blue-800 mb-2">‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</h3>
                <p class="text-gray-600 text-sm">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
              </div>
              <div class="text-center">
                <div class="w-32 h-32 mx-auto mb-4 rounded-full bg-gray-100 border-4 border-blue-200 flex items-center justify-center text-6xl">
                  üë§
                </div>
                <h3 class="font-bold text-blue-800 mb-2">‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</h3>
                <p class="text-gray-600 text-sm">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</p>
              </div>
              <div class="text-center">
                <div class="w-32 h-32 mx-auto mb-4 rounded-full bg-gray-100 border-4 border-blue-200 flex items-center justify-center text-6xl">
                  üë§
                </div>
                <h3 class="font-bold text-blue-800 mb-2">‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</h3>
                <p class="text-gray-600 text-sm">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£</p>
              </div>
              <div class="text-center">
                <div class="w-32 h-32 mx-auto mb-4 rounded-full bg-gray-100 border-4 border-blue-200 flex items-center justify-center text-6xl">
                  üë§
                </div>
                <h3 class="font-bold text-blue-800 mb-2">‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</h3>
                <p class="text-gray-600 text-sm">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì</p>
              </div>
            </div>
            ${isAdmin ? `
              <div class="text-center mt-8">
                <button onclick="openAdminModal('director', 'deputy')" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold">
                  + ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£
                </button>
              </div>
            ` : ''}
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div onclick="navigateToPage('dept-student')" class="bg-white rounded-xl p-8 shadow-lg hover:shadow-2xl transition cursor-pointer transform hover:scale-105">
              <div class="text-5xl mb-4">üë•</div>
              <h2 class="text-2xl font-bold text-blue-800 mb-2">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
              <p class="text-gray-600">‡∏î‡∏π‡πÅ‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏†‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
            </div>
            <div onclick="navigateToPage('dept-admin')" class="bg-white rounded-xl p-8 shadow-lg hover:shadow-2xl transition cursor-pointer transform hover:scale-105">
              <div class="text-5xl mb-4">üìã</div>
              <h2 class="text-2xl font-bold text-blue-800 mb-2">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h2>
              <p class="text-gray-600">‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏Ç‡∏≠‡∏á‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
            </div>
            <div onclick="navigateToPage('dept-academic')" class="bg-white rounded-xl p-8 shadow-lg hover:shadow-2xl transition cursor-pointer transform hover:scale-105">
              <div class="text-5xl mb-4">üìö</div>
              <h2 class="text-2xl font-bold text-blue-800 mb-2">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£</h2>
              <p class="text-gray-600">‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô</p>
            </div>
            <div onclick="navigateToPage('dept-budget')" class="bg-white rounded-xl p-8 shadow-lg hover:shadow-2xl transition cursor-pointer transform hover:scale-105">
              <div class="text-5xl mb-4">üí∞</div>
              <h2 class="text-2xl font-bold text-blue-800 mb-2">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì</h2>
              <p class="text-gray-600">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</p>
            </div>
          </div>
        </div>
      `;
    }

    function renderDepartmentDetail(deptType, deptName, icon) {
      const deptData = allData.filter(d => d.type === 'department' && d.category === deptType);
      const leader = deptData.find(d => d.title.includes('‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£'));
      const documents = deptData.filter(d => !d.title.includes('‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£'));

      document.getElementById('mainContent').innerHTML = `
        <div class="max-w-7xl mx-auto px-4 py-16">
          <div class="mb-8">
            <button onclick="navigateToPage('departments')" class="text-blue-600 hover:text-blue-800 font-semibold">
              ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô
            </button>
          </div>

          <div class="bg-white rounded-2xl shadow-xl p-8 mb-8">
            <div class="text-center mb-8">
              <div class="text-6xl mb-4">${icon}</div>
              <h1 class="text-4xl font-bold text-blue-800">${deptName}</h1>
            </div>

            ${leader ? `
              <div class="bg-gradient-to-r from-blue-50 to-white rounded-xl p-6 mb-8">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô</h2>
                <div class="flex items-center space-x-6">
                  ${leader.imageUrl ? `<img src="${leader.imageUrl}" alt="${leader.title}" class="w-32 h-32 rounded-full object-cover shadow-lg" onerror="this.src=''; this.alt='‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ'; this.style.display='none';">` : '<div class="w-32 h-32 rounded-full bg-blue-200 flex items-center justify-center text-4xl">üë§</div>'}
                  <div>
                    <h3 class="text-xl font-bold text-gray-800">${leader.title}</h3>
                    <p class="text-gray-600">${leader.content || ''}</p>
                  </div>
                  ${isAdmin ? `
                    <div class="ml-auto space-x-2">
                      <button onclick="editItem('${leader.id}')" class="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                      <button onclick="deleteItem('${leader.id}')" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">‡∏•‡∏ö</button>
                    </div>
                  ` : ''}
                </div>
              </div>
            ` : ''}

            <div>
              <h2 class="text-2xl font-bold text-blue-800 mb-4">‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á</h2>
              <div class="space-y-4">
                ${documents.map(doc => `
                  <div class="bg-gray-50 rounded-lg p-4 flex justify-between items-center hover:bg-gray-100 transition">
                    <div>
                      <h3 class="font-bold text-gray-800">${doc.title}</h3>
                      <p class="text-gray-600 text-sm">${doc.content || ''}</p>
                    </div>
                    ${isAdmin ? `
                      <div class="space-x-2">
                        <button onclick="editItem('${doc.id}')" class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 transition text-sm">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                        <button onclick="deleteItem('${doc.id}')" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition text-sm">‡∏•‡∏ö</button>
                      </div>
                    ` : ''}
                  </div>
                `).join('') || '<p class="text-gray-500 text-center py-8">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</p>'}
              </div>
              ${isAdmin ? `
                <div class="text-center mt-6">
                  <button onclick="openAdminModal('department', '${deptType}')" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold">
                    + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                  </button>
                </div>
              ` : ''}
            </div>
          </div>
        </div>
      `;
    }

    window.renderDeptStudentPage = () => renderDepartmentDetail('student', '‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', 'üë•');
    window.renderDeptAdminPage = () => renderDepartmentDetail('admin', '‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ', 'üìã');
    window.renderDeptAcademicPage = () => renderDepartmentDetail('academic', '‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£', 'üìö');
    window.renderDeptBudgetPage = () => renderDepartmentDetail('budget', '‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì', 'üí∞');

    function renderSubjectsPage() {
      const subjects = [
        { id: 'thai', name: '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢', icon: 'üìñ' },
        { id: 'math', name: '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', icon: 'üî¢' },
        { id: 'science', name: '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ', icon: 'üî¨' },
        { id: 'social', name: '‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏®‡∏≤‡∏™‡∏ô‡∏≤ ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°', icon: 'üåè' },
        { id: 'health', name: '‡∏™‡∏∏‡∏Ç‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤', icon: '‚öΩ' },
        { id: 'language', name: '‡∏†‡∏≤‡∏©‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®', icon: 'üåê' },
        { id: 'art', name: '‡∏®‡∏¥‡∏•‡∏õ‡∏∞', icon: 'üé®' },
        { id: 'career', name: '‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û', icon: 'üîß' },
        { id: 'guidance', name: '‡∏á‡∏≤‡∏ô‡πÅ‡∏ô‡∏∞‡πÅ‡∏ô‡∏ß', icon: 'üéØ' }
      ];

      document.getElementById('mainContent').innerHTML = `
        <div class="max-w-7xl mx-auto px-4 py-16">
          <h1 class="text-4xl font-bold text-blue-800 mb-12 text-center">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</h1>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            ${subjects.map(subject => `
              <div onclick="navigateToPage('subject-${subject.id}')" class="bg-white rounded-xl p-6 shadow-lg hover:shadow-2xl transition cursor-pointer transform hover:scale-105">
                <div class="text-5xl mb-4">${subject.icon}</div>
                <h2 class="text-xl font-bold text-blue-800">${subject.name}</h2>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    function renderSubjectDetail(subjectId, subjectName, icon) {
      const subjectData = allData.filter(d => d.type === 'subject' && d.category === subjectId);
      const head = subjectData.find(d => d.title.includes('‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤'));
      const teachers = subjectData.filter(d => d.title.includes('‡∏Ñ‡∏ì‡∏∞‡∏Ñ‡∏£‡∏π'));

      document.getElementById('mainContent').innerHTML = `
        <div class="max-w-7xl mx-auto px-4 py-16">
          <div class="mb-8">
            <button onclick="navigateToPage('subjects')" class="text-blue-600 hover:text-blue-800 font-semibold">
              ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ
            </button>
          </div>

          <div class="bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
              <div class="text-6xl mb-4">${icon}</div>
              <h1 class="text-4xl font-bold text-blue-800">${subjectName}</h1>
            </div>

            ${head ? `
              <div class="bg-gradient-to-r from-blue-50 to-white rounded-xl p-6 mb-8">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">${subjectId === 'guidance' ? '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡πÅ‡∏ô‡∏∞‡πÅ‡∏ô‡∏ß' : '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ'}</h2>
                <div class="flex items-center space-x-6">
                  ${head.imageUrl ? `<img src="${head.imageUrl}" alt="${head.title}" class="w-32 h-32 rounded-full object-cover shadow-lg" onerror="this.src=''; this.alt='‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ'; this.style.display='none';">` : '<div class="w-32 h-32 rounded-full bg-blue-200 flex items-center justify-center text-4xl">üë§</div>'}
                  <div>
                    <h3 class="text-xl font-bold text-gray-800">${head.title}</h3>
                    <p class="text-gray-600">${head.content || ''}</p>
                  </div>
                  ${isAdmin ? `
                    <div class="ml-auto space-x-2">
                      <button onclick="editItem('${head.id}')" class="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                      <button onclick="deleteItem('${head.id}')" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">‡∏•‡∏ö</button>
                    </div>
                  ` : ''}
                </div>
              </div>
            ` : ''}

            <div>
              <h2 class="text-2xl font-bold text-blue-800 mb-4">‡∏Ñ‡∏ì‡∏∞‡∏Ñ‡∏£‡∏π</h2>
              <div class="space-y-4">
                ${teachers.map(teacher => `
                  <div class="bg-gray-50 rounded-lg p-4 flex justify-between items-center hover:bg-gray-100 transition">
                    <div>
                      <h3 class="font-bold text-gray-800">${teacher.title}</h3>
                      <p class="text-gray-600 text-sm">${teacher.content || ''}</p>
                    </div>
                    ${isAdmin ? `
                      <div class="space-x-2">
                        <button onclick="editItem('${teacher.id}')" class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 transition text-sm">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                        <button onclick="deleteItem('${teacher.id}')" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition text-sm">‡∏•‡∏ö</button>
                      </div>
                    ` : ''}
                  </div>
                `).join('') || '<p class="text-gray-500 text-center py-8">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ì‡∏∞‡∏Ñ‡∏£‡∏π</p>'}
              </div>
              ${isAdmin ? `
                <div class="text-center mt-6">
                  <button onclick="openAdminModal('subject', '${subjectId}')" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold">
                    + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                  </button>
                </div>
              ` : ''}
            </div>
          </div>
        </div>
      `;
    }

    window.renderSubjectThaiPage = () => renderSubjectDetail('thai', '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢', 'üìñ');
    window.renderSubjectMathPage = () => renderSubjectDetail('math', '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', 'üî¢');
    window.renderSubjectSciencePage = () => renderSubjectDetail('science', '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ', 'üî¨');
    window.renderSubjectSocialPage = () => renderSubjectDetail('social', '‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏®‡∏≤‡∏™‡∏ô‡∏≤ ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°', 'üåè');
    window.renderSubjectHealthPage = () => renderSubjectDetail('health', '‡∏™‡∏∏‡∏Ç‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤', '‚öΩ');
    window.renderSubjectLanguagePage = () => renderSubjectDetail('language', '‡∏†‡∏≤‡∏©‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®', 'üåê');
    window.renderSubjectArtPage = () => renderSubjectDetail('art', '‡∏®‡∏¥‡∏•‡∏õ‡∏∞', 'üé®');
    window.renderSubjectCareerPage = () => renderSubjectDetail('career', '‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û', 'üîß');
    window.renderSubjectGuidancePage = () => renderSubjectDetail('guidance', '‡∏á‡∏≤‡∏ô‡πÅ‡∏ô‡∏∞‡πÅ‡∏ô‡∏ß', 'üéØ');

    function renderDocumentsPage() {
      document.getElementById('mainContent').innerHTML = `
        <div class="max-w-7xl mx-auto px-4 py-16">
          <h1 class="text-4xl font-bold text-blue-800 mb-12 text-center">‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</h1>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div onclick="navigateToPage('doc-schedule')" class="bg-white rounded-xl p-8 shadow-lg hover:shadow-2xl transition cursor-pointer transform hover:scale-105">
              <div class="text-5xl mb-4">üìÖ</div>
              <h2 class="text-2xl font-bold text-blue-800 mb-2">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô</h2>
              <p class="text-gray-600">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏£‡∏π</p>
            </div>
            <div onclick="navigateToPage('doc-students')" class="bg-white rounded-xl p-8 shadow-lg hover:shadow-2xl transition cursor-pointer transform hover:scale-105">
              <div class="text-5xl mb-4">üë®‚Äçüéì</div>
              <h2 class="text-2xl font-bold text-blue-800 mb-2">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
              <p class="text-gray-600">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
            </div>
            <div onclick="navigateToPage('doc-exam')" class="bg-white rounded-xl p-8 shadow-lg hover:shadow-2xl transition cursor-pointer transform hover:scale-105">
              <div class="text-5xl mb-4">üìù</div>
              <h2 class="text-2xl font-bold text-blue-800 mb-2">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ö</h2>
              <p class="text-gray-600">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
            </div>
          </div>
        </div>
      `;
    }

    function renderDocumentDetail(docType, docName, icon) {
      const docData = allData.filter(d => d.type === 'document' && d.category === docType);

      document.getElementById('mainContent').innerHTML = `
        <div class="max-w-7xl mx-auto px-4 py-16">
          <div class="mb-8">
            <button onclick="navigateToPage('documents')" class="text-blue-600 hover:text-blue-800 font-semibold">
              ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
            </button>
          </div>

          <div class="bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
              <div class="text-6xl mb-4">${icon}</div>
              <h1 class="text-4xl font-bold text-blue-800">${docName}</h1>
            </div>

            <div class="space-y-4">
              ${docData.map(doc => `
                <div class="bg-gray-50 rounded-lg p-6 hover:bg-gray-100 transition">
                  <div class="flex justify-between items-start">
                    <div class="flex-1">
                      <h3 class="text-xl font-bold text-gray-800 mb-2">${doc.title}</h3>
                      <p class="text-gray-600 mb-3">${doc.content || ''}</p>
                      ${doc.imageUrl ? `<a href="${doc.imageUrl}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 font-semibold">üìé ‡∏î‡∏π‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</a>` : ''}
                    </div>
                    ${isAdmin ? `
                      <div class="space-x-2 ml-4">
                        <button onclick="editItem('${doc.id}')" class="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                        <button onclick="deleteItem('${doc.id}')" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">‡∏•‡∏ö</button>
                      </div>
                    ` : ''}
                  </div>
                </div>
              `).join('') || '<p class="text-gray-500 text-center py-8">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</p>'}
            </div>

            ${isAdmin ? `
              <div class="text-center mt-8">
                <button onclick="openAdminModal('document', '${docType}')" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold">
                  + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
                </button>
              </div>
            ` : ''}
          </div>
        </div>
      `;
    }

    window.renderDocSchedulePage = () => renderDocumentDetail('schedule', '‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô', 'üìÖ');
    window.renderDocStudentsPage = () => renderDocumentDetail('students', '‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', 'üë®‚Äçüéì');
    window.renderDocExamPage = () => renderDocumentDetail('exam', '‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ö', 'üìù');

    function renderAdmissionPage() {
      document.getElementById('mainContent').innerHTML = `
        <div class="max-w-7xl mx-auto px-4 py-16">
          <h1 class="text-4xl font-bold text-blue-800 mb-12 text-center">‡∏á‡∏≤‡∏ô‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h1>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            <div class="bg-white rounded-xl p-8 shadow-lg">
              <h2 class="text-2xl font-bold text-blue-800 mb-6">‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</h2>
              <div class="space-y-4">
                <div class="bg-blue-50 rounded-lg p-4 hover:bg-blue-100 transition cursor-pointer">
                  <h3 class="font-bold text-blue-800">üì¢ ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3>
                  ${allData.filter(d => d.type === 'admission' && d.category === 'special-announce').map(item => `
                    <div class="mt-2 flex justify-between items-start">
                      <div>
                        <p class="text-gray-700">${item.title}</p>
                        <p class="text-sm text-gray-600">${item.content || ''}</p>
                      </div>
                      ${isAdmin ? `
                        <div class="space-x-2">
                          <button onclick="editItem('${item.id}')" class="bg-yellow-500 text-white px-2 py-1 rounded text-xs">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                          <button onclick="deleteItem('${item.id}')" class="bg-red-500 text-white px-2 py-1 rounded text-xs">‡∏•‡∏ö</button>
                        </div>
                      ` : ''}
                    </div>
                  `).join('') || '<p class="text-gray-500 text-sm mt-2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</p>'}
                  ${isAdmin ? `<button onclick="openAdminModal('admission', 'special-announce')" class="mt-3 text-blue-600 text-sm font-semibold">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</button>` : ''}
                </div>

                <div class="bg-green-50 rounded-lg p-4 hover:bg-green-100 transition cursor-pointer">
                  <h3 class="font-bold text-green-800">‚úÖ ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</h3>
                  ${allData.filter(d => d.type === 'admission' && d.category === 'special-result').map(item => `
                    <div class="mt-2 flex justify-between items-start">
                      <div>
                        <p class="text-gray-700">${item.title}</p>
                        <p class="text-sm text-gray-600">${item.content || ''}</p>
                      </div>
                      ${isAdmin ? `
                        <div class="space-x-2">
                          <button onclick="editItem('${item.id}')" class="bg-yellow-500 text-white px-2 py-1 rounded text-xs">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                          <button onclick="deleteItem('${item.id}')" class="bg-red-500 text-white px-2 py-1 rounded text-xs">‡∏•‡∏ö</button>
                        </div>
                      ` : ''}
                    </div>
                  `).join('') || '<p class="text-gray-500 text-sm mt-2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•</p>'}
                  ${isAdmin ? `<button onclick="openAdminModal('admission', 'special-result')" class="mt-3 text-green-600 text-sm font-semibold">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•</button>` : ''}
                </div>

                <div class="bg-purple-50 rounded-lg p-4 hover:bg-purple-100 transition cursor-pointer">
                  <h3 class="font-bold text-purple-800">üìù ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</h3>
                  ${allData.filter(d => d.type === 'admission' && d.category === 'special-system').map(item => `
                    <div class="mt-2 flex justify-between items-start">
                      <div>
                        <p class="text-gray-700">${item.title}</p>
                        ${item.imageUrl ? `<a href="${item.imageUrl}" target="_blank" rel="noopener noreferrer" class="text-purple-600 text-sm">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö ‚Üí</a>` : ''}
                      </div>
                      ${isAdmin ? `
                        <div class="space-x-2">
                          <button onclick="editItem('${item.id}')" class="bg-yellow-500 text-white px-2 py-1 rounded text-xs">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                          <button onclick="deleteItem('${item.id}')" class="bg-red-500 text-white px-2 py-1 rounded text-xs">‡∏•‡∏ö</button>
                        </div>
                      ` : ''}
                    </div>
                  `).join('') || '<p class="text-gray-500 text-sm mt-2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</p>'}
                  ${isAdmin ? `<button onclick="openAdminModal('admission', 'special-system')" class="mt-3 text-purple-600 text-sm font-semibold">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö</button>` : ''}
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl p-8 shadow-lg">
              <h2 class="text-2xl font-bold text-blue-800 mb-6">‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</h2>
              <div class="space-y-4">
                <div class="bg-blue-50 rounded-lg p-4 hover:bg-blue-100 transition cursor-pointer">
                  <h3 class="font-bold text-blue-800">üì¢ ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3>
                  ${allData.filter(d => d.type === 'admission' && d.category === 'normal-announce').map(item => `
                    <div class="mt-2 flex justify-between items-start">
                      <div>
                        <p class="text-gray-700">${item.title}</p>
                        <p class="text-sm text-gray-600">${item.content || ''}</p>
                      </div>
                      ${isAdmin ? `
                        <div class="space-x-2">
                          <button onclick="editItem('${item.id}')" class="bg-yellow-500 text-white px-2 py-1 rounded text-xs">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                          <button onclick="deleteItem('${item.id}')" class="bg-red-500 text-white px-2 py-1 rounded text-xs">‡∏•‡∏ö</button>
                        </div>
                      ` : ''}
                    </div>
                  `).join('') || '<p class="text-gray-500 text-sm mt-2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</p>'}
                  ${isAdmin ? `<button onclick="openAdminModal('admission', 'normal-announce')" class="mt-3 text-blue-600 text-sm font-semibold">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</button>` : ''}
                </div>

                <div class="bg-green-50 rounded-lg p-4 hover:bg-green-100 transition cursor-pointer">
                  <h3 class="font-bold text-green-800">‚úÖ ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</h3>
                  ${allData.filter(d => d.type === 'admission' && d.category === 'normal-result').map(item => `
                    <div class="mt-2 flex justify-between items-start">
                      <div>
                        <p class="text-gray-700">${item.title}</p>
                        <p class="text-sm text-gray-600">${item.content || ''}</p>
                      </div>
                      ${isAdmin ? `
                        <div class="space-x-2">
                          <button onclick="editItem('${item.id}')" class="bg-yellow-500 text-white px-2 py-1 rounded text-xs">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                          <button onclick="deleteItem('${item.id}')" class="bg-red-500 text-white px-2 py-1 rounded text-xs">‡∏•‡∏ö</button>
                        </div>
                      ` : ''}
                    </div>
                  `).join('') || '<p class="text-gray-500 text-sm mt-2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•</p>'}
                  ${isAdmin ? `<button onclick="openAdminModal('admission', 'normal-result')" class="mt-3 text-green-600 text-sm font-semibold">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•</button>` : ''}
                </div>

                <div class="bg-purple-50 rounded-lg p-4 hover:bg-purple-100 transition cursor-pointer">
                  <h3 class="font-bold text-purple-800">üìù ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</h3>
                  ${allData.filter(d => d.type === 'admission' && d.category === 'normal-system').map(item => `
                    <div class="mt-2 flex justify-between items-start">
                      <div>
                        <p class="text-gray-700">${item.title}</p>
                        ${item.imageUrl ? `<a href="${item.imageUrl}" target="_blank" rel="noopener noreferrer" class="text-purple-600 text-sm">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö ‚Üí</a>` : ''}
                      </div>
                      ${isAdmin ? `
                        <div class="space-x-2">
                          <button onclick="editItem('${item.id}')" class="bg-yellow-500 text-white px-2 py-1 rounded text-xs">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                          <button onclick="deleteItem('${item.id}')" class="bg-red-500 text-white px-2 py-1 rounded text-xs">‡∏•‡∏ö</button>
                        </div>
                      ` : ''}
                    </div>
                  `).join('') || '<p class="text-gray-500 text-sm mt-2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</p>'}
                  ${isAdmin ? `<button onclick="openAdminModal('admission', 'normal-system')" class="mt-3 text-purple-600 text-sm font-semibold">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö</button>` : ''}
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderContactPage() {
      const config = window.elementSdk?.config || defaultConfig;
      document.getElementById('mainContent').innerHTML = `
        <div class="max-w-4xl mx-auto px-4 py-16">
          <div class="bg-white rounded-2xl shadow-xl p-8">
            <h1 class="text-4xl font-bold text-blue-800 mb-8 text-center">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</h1>
            
            <div class="mb-8">
              <h2 class="text-2xl font-bold text-blue-800 mb-4">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</h2>
              <p class="text-gray-700 leading-relaxed">${config.school_address || defaultConfig.school_address}</p>
            </div>

            <div class="mb-8">
              <h2 class="text-2xl font-bold text-blue-800 mb-4">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</h2>
              <div class="space-y-3 mb-6">
                <div class="flex items-center space-x-3 p-3 bg-blue-50 rounded-lg">
                  <div class="text-2xl">üìû</div>
                  <div>
                    <h3 class="font-bold text-blue-800">‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</h3>
                    <p class="text-gray-700">074-613-023</p>
                  </div>
                </div>
                <div class="flex items-center space-x-3 p-3 bg-blue-50 rounded-lg">
                  <div class="text-2xl">üìß</div>
                  <div>
                    <h3 class="font-bold text-blue-800">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</h3>
                    <p class="text-gray-700">satriphatthalung@spt.ac.th</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="mb-8">
              <h2 class="text-2xl font-bold text-blue-800 mb-4">‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•‡∏°‡∏µ‡πÄ‡∏î‡∏µ‡∏¢</h2>
              <div class="space-y-4">
                <a href="https://www.facebook.com/spt.ac.th" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-3 p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition">
                  <div class="text-3xl">üìò</div>
                  <div>
                    <h3 class="font-bold text-blue-800">Facebook</h3>
                    <p class="text-sm text-gray-600">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</p>
                  </div>
                </a>

                <a href="https://www.facebook.com/photoavspt/" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-3 p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition">
                  <div class="text-3xl">üì∑</div>
                  <div>
                    <h3 class="font-bold text-blue-800">Facebook</h3>
                    <p class="text-sm text-gray-600">‡∏ï‡∏≤‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏™‡∏ï‡∏£‡∏µ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</p>
                  </div>
                </a>

                <a href="https://www.instagram.com/sptschool_official?igsh=MWM0NWl2MmF1cXhvdw==" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-3 p-4 bg-pink-50 rounded-lg hover:bg-pink-100 transition">
                  <div class="text-3xl">üì∏</div>
                  <div>
                    <h3 class="font-bold text-pink-800">Instagram</h3>
                    <p class="text-sm text-gray-600">@sptschool_official</p>
                  </div>
                </a>

                <a href="https://www.tiktok.com/@spt_school?_t=ZS-90tOrK4pFtH&_r=1" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                  <div class="text-3xl">üéµ</div>
                  <div>
                    <h3 class="font-bold text-gray-800">TikTok</h3>
                    <p class="text-sm text-gray-600">@spt_school</p>
                  </div>
                </a>
              </div>
            </div>

            <div class="bg-blue-50 rounded-xl p-6 text-center">
              <p class="text-gray-700">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏≠‡∏á‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏≤‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô</p>
            </div>
          </div>
        </div>
      `;
    }

    function renderLoginPage() {
      document.getElementById('mainContent').innerHTML = `
        <div class="max-w-md mx-auto px-4 py-16">
          <div class="bg-white rounded-2xl shadow-xl p-8">
            <h1 class="text-3xl font-bold text-blue-800 mb-8 text-center">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</h1>
            
            ${isAdmin ? `
              <div class="text-center">
                <div class="text-5xl mb-4">‚úÖ</div>
                <p class="text-xl text-green-600 font-semibold mb-6">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß</p>
                <button onclick="handleLogout()" class="bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition font-semibold w-full">
                  ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                </button>
              </div>
            ` : `
              <form id="loginForm" class="space-y-6">
                <div>
                  <label class="block text-gray-700 font-semibold mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                  <input type="email" id="loginEmail" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <div>
                  <label class="block text-gray-700 font-semibold mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                  <input type="password" id="loginPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold">
                  ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                </button>
              </form>
            `}
          </div>
        </div>
      `;

      if (!isAdmin) {
        document.getElementById('loginForm').addEventListener('submit', handleLogin);
      }
    }

    async function handleLogin(e) {
      e.preventDefault();
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;

      try {
        await auth.signInWithEmailAndPassword(email, password);
        showToast('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
        navigateToPage('home');
      } catch (error) {
        showToast('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô');
      }
    }

    async function handleLogout() {
      try {
        await auth.signOut();
        showToast('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
        navigateToPage('home');
      } catch (error) {
        showToast('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö');
      }
    }

    function openAdminModal(type, category) {
      if (!isAdmin) {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô');
        return;
      }

      currentEditType = type;
      currentEditCategory = category;
      document.getElementById('editId').value = '';
      document.getElementById('itemTitle').value = '';
      document.getElementById('itemContent').value = '';
      document.getElementById('itemImage').value = '';
      document.getElementById('adminModal').classList.add('active');
    }

    async function editItem(id) {
      const item = allData.find(d => d.id === id);
      if (!item) return;

      currentEditType = item.type;
      currentEditCategory = item.category;
      document.getElementById('editId').value = item.id;
      document.getElementById('itemTitle').value = item.title;
      document.getElementById('itemContent').value = item.content || '';
      document.getElementById('itemImage').value = item.imageUrl || '';
      document.getElementById('adminModal').classList.add('active');
    }

    async function deleteItem(id) {
      if (!isAdmin) return;

      const item = allData.find(d => d.id === id);
      if (!item) return;

      const confirmDiv = document.createElement('div');
      confirmDiv.className = 'modal active';
      confirmDiv.innerHTML = `
        <div class="modal-content max-w-md">
          <h2 class="text-2xl font-bold text-red-600 mb-4">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö</h2>
          <p class="text-gray-700 mb-6">‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö "${item.title}" ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p>
          <div class="flex space-x-4">
            <button id="confirmDelete" class="flex-1 bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition font-semibold">
              ‡∏•‡∏ö
            </button>
            <button id="cancelDelete" class="flex-1 bg-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-400 transition font-semibold">
              ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
            </button>
          </div>
        </div>
      `;
      document.body.appendChild(confirmDiv);

      document.getElementById('confirmDelete').addEventListener('click', async () => {
        const result = await window.dataSdk.delete(item);
        if (result.isOk) {
          showToast('‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
        } else {
          showToast('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
        }
        confirmDiv.remove();
      });

      document.getElementById('cancelDelete').addEventListener('click', () => {
        confirmDiv.remove();
      });
    }

    document.getElementById('closeModal').addEventListener('click', () => {
      document.getElementById('adminModal').classList.remove('active');
    });

    document.getElementById('cancelBtn').addEventListener('click', () => {
      document.getElementById('adminModal').classList.remove('active');
    });

    document.getElementById('adminForm').addEventListener('submit', async (e) => {
      e.preventDefault();

      if (allData.length >= 999) {
        showToast('‡∏ñ‡∏∂‡∏á‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (999 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£) ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô');
        return;
      }

      const editId = document.getElementById('editId').value;
      const title = document.getElementById('itemTitle').value;
      const content = document.getElementById('itemContent').value;
      const imageUrl = document.getElementById('itemImage').value;

      const submitBtn = e.target.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...';

      if (editId) {
        const item = allData.find(d => d.id === editId);
        if (item) {
          item.title = title;
          item.content = content;
          item.imageUrl = imageUrl;
          const result = await window.dataSdk.update(item);
          if (result.isOk) {
            showToast('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
            document.getElementById('adminModal').classList.remove('active');
          } else {
            showToast('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
          }
        }
      } else {
        const newItem = {
          id: Date.now().toString(),
          type: currentEditType,
          category: currentEditCategory,
          title: title,
          content: content,
          imageUrl: imageUrl,
          order: allData.length,
          createdAt: new Date().toISOString()
        };

        const result = await window.dataSdk.create(newItem);
        if (result.isOk) {
          showToast('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
          document.getElementById('adminModal').classList.remove('active');
        } else {
          showToast('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
        }
      }

      submitBtn.disabled = false;
      submitBtn.textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å';
    });

    window.renderHomePage = renderHomePage;
    window.renderAboutPage = renderAboutPage;
    window.renderDepartmentsPage = renderDepartmentsPage;
    window.renderSubjectsPage = renderSubjectsPage;
    window.renderDocumentsPage = renderDocumentsPage;
    window.renderAdmissionPage = renderAdmissionPage;
    window.renderContactPage = renderContactPage;
    window.renderLoginPage = renderLoginPage;
    window.openAdminModal = openAdminModal;
    window.editItem = editItem;
    window.deleteItem = deleteItem;
    window.handleLogout = handleLogout;

    initApp();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99ad45fff4c87337',t:'MTc2MjUyMzE1MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
